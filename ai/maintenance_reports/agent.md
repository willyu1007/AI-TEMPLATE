---
spec_version: "1.0"
agent_id: "ai_maintenance_reports"
role: "Automated maintenance and health reports storage"

policies:
  goals_ref: /doc/policies/goals.md
  safety_ref: /doc/policies/safety.md

parent_agent: /ai/agent.md
merge_strategy: "child_overrides_parent"
---

# Maintenance Reports Agent

> **Purpose**: Manage auto-generated maintenance, health check, and optimization reports  
> **Audience**: AI agents and human operators  
> **Auto-cleanup**: Subject to retention policies (see below)

---

## Directory Role

This directory stores **automated reports** generated by:
- `make ai_maintenance` - General maintenance checks
- `make health_check` - Repository health analysis
- `make health_report` - Detailed health reports
- Optimization and audit tasks

---

## File Types & Retention

### 1. Health Reports (JSON)
**Pattern**: `health-report-YYYYMMDD[-HHMMSS].json`

**Content**: Structured health check results
- Metric scores (0-100)
- Issue details
- Recommendations

**Retention**: 
- Keep last 10 reports
- Keep reports with failed checks (permanent)
- Auto-cleanup after 30 days (via `make cleanup_reports_smart`)

---

### 2. Health Summaries (Markdown)
**Pattern**: `health-summary[-YYYYMMDD].md`

**Content**: Human-readable health analysis
- Executive summary
- Key issues
- Action items

**Retention**:
- `health-summary.md` - Latest (always keep)
- Dated summaries - 30 days

---

### 3. Optimization Reports (Markdown)
**Pattern**: `optimization-*.md`, `*-audit-report.md`

**Type**: Archive files (manual management)

**Examples**:
- `optimization-plan.md`
- `optimization-complete-report.md`
- `project-audit-report.md`
- `temp-files-optimization-summary.md`

**Retention**: Manual review required

---

### 4. Trend Analysis (JSON)
**Pattern**: `*-trend-*.json`

**Content**: Historical trend data

**Retention**: 90 days

---

## Ownership & Safety

### Read Access
- ✅ All team members
- ✅ AI agents (via context routes)

### Write Access
- ✅ Automated scripts only:
  - `scripts/ai_maintenance.py`
  - `scripts/health_check.py`
  - `scripts/health_trend_analyzer.py`
- ❌ Manual edits NOT recommended (may be overwritten)

### Git Tracking
- ✅ Commit: Archive reports (optimization plans, audit reports)
- ❌ Ignore: Automated reports (should be in .gitignore if >20 files)

---

## Usage Guidelines

### For AI Agents

**When to read**:
- Starting optimization tasks → Load `optimization-*.md`
- Checking repo health → Load `health-summary.md`
- Understanding recent issues → Load latest `health-report-*.json`

**When to write**:
- ❌ Never directly (use scripts)
- ✅ Create summary documents (with _tmp suffix if temporary)

**Cleanup**:
- After generating reports, note in task summary
- Run `make cleanup_reports_smart` monthly

---

### For Human Operators

**Review frequency**:
- Weekly: Check `health-summary.md`
- Monthly: Review failed reports
- Quarterly: Archive important optimization reports

**Manual intervention**:
- Move significant reports to permanent location
- Update optimization plans
- Clean old reports: `make cleanup_reports AGE=60`

---

## Related Documents

- **Cleanup Policy**: `/doc/policies/TEMP_FILES_POLICY.md` (Section 4.2)
- **Maintenance Script**: `/scripts/ai_maintenance.py`
- **Health Check Model**: `/doc/process/HEALTH_CHECK_MODEL.yaml`
- **Parent Agent**: `/ai/agent.md`

---

## Automation Commands

```bash
# Generate reports
make ai_maintenance              # Full maintenance check
make health_check                # Health analysis
make health_report               # Detailed report

# View reports
cat ai/maintenance_reports/health-summary.md
jq '.' ai/maintenance_reports/health-report-*.json | tail -50

# Cleanup
make cleanup_reports_smart       # Smart cleanup (keep last 10 + failed)
make cleanup_reports AGE=30      # Delete reports older than 30 days
```

---

**Version**: 1.0  
**Last Updated**: 2025-11-09  
**Maintained by**: Automated scripts + Manual review

