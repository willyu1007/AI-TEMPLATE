# 用户反馈记录

## 日期
2025-11-07

## 关键决策确认

### 1. 模块文档迁移
**决策**: ✅ 迁移到doc/子目录
**原因**: 保持目录整洁
**实施**: modules/<entity>/doc/ 承接6个文档(CHANGELOG, CONTRACT, PROGRESS, BUGS, RUNBOOK, TEST_PLAN)

### 2. 根agent.md轻量化程度
**决策**: ✅ 500行作为上限指标
**原则**: 实际行数需要看能否满足AI友好和自动化需求
**策略**: 
- 保留：工作流程、路由、命令、重要规范
- 迁移：详细内容到doc/下

### 3. registry.yaml维护方式
**决策**: ✅ 半自动化
**方式**: 自动生成 + 手动确认
**实施建议**:
- 脚本扫描modules/目录，提取模块信息
- 生成registry.yaml草案
- 用户审核、补充语义信息(描述、关系等)
- 用registry_check.py校验完整性

### 4. 初始化流程实现
**决策**: ✅ 以大模型交互为主
**重点**: 给大模型用的内容(PROJECT_INIT_GUIDE.md, MODULE_INIT_GUIDE.md)
**辅助**: 保留手动初始化的文档引导
**实施**:
- 文档中明确大模型应该如何引导用户
- 提供对话范式、确认门槛、检查清单
- make ai_begin更新为支持新结构

### 5. YAML Schema严格程度
**决策**: ✅ 以满足智能体编排的一般需求为准
**原则**: 尽可能填写
**必填字段**:
- 根agent.md: spec_version, agent_id, role, context_routes, merge_strategy
- 模块agent.md: 上述字段 + level, module_type, ownership, io, dependencies, orchestration_hints

### 6. 数据库半自动化(新需求)
**决策**: ✅ 对数据库实行半自动化操作
**方式**: 类似registry.yaml - 自动生成 + 手动确认
**参考来源**: temp/参考方案和建议/EXECUTION_PLAN.md
**待阅读**: 数据库治理与目录重构章节
**后续**: 阅读完后如有疑问再和用户确认

---

## 下一步行动
- [x] 记录用户反馈
- [ ] 阅读EXECUTION_PLAN.md，重点关注数据库相关内容
- [ ] 阅读其他参考方案文档
- [ ] 整合所有信息，更新修改方案
- [ ] 细化执行计划
- [ ] 与用户确认最终方案


