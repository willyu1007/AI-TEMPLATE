# æ–‡æ¡£èŒè´£åˆ†å·¥ä¸å¼•å¯¼å®Œæ•´æ€§æ£€éªŒ

> **æ£€éªŒæ—¥æœŸ**: 2025-11-09  
> **æ£€éªŒèŒƒå›´**: æ–‡æ¡£èŒè´£ã€agent.mdå¼•å¯¼ã€æ¨¡å—åˆå§‹åŒ–æµç¨‹

---

## æ£€éªŒé—®é¢˜

1. **æ–‡æ¡£æ˜¯å¦æœ‰æ˜ç¡®çš„é˜…è¯»èŒè´£åˆ†å·¥è¯´æ˜**ï¼ˆAIæ–‡æ¡£ vs äººç±»æ–‡æ¡£ï¼‰
2. **agent.mdæ˜¯å¦æœ‰å¿…è¦çš„å¼•å¯¼**ï¼ˆå¦‚AIæ–‡æ¡£ä½¿ç”¨è‹±æ–‡ï¼‰
3. **æ¨¡å—åˆå§‹åŒ–æµç¨‹æ˜¯å¦å¼•å¯¼ç”Ÿæˆæ­£ç¡®çš„agent.md**

---

## 1. æ–‡æ¡£èŒè´£åˆ†å·¥æ£€éªŒ

### 1.1 AIæ–‡æ¡£ vs äººç±»æ–‡æ¡£åˆ†ç±»

**AIæ–‡æ¡£ï¼ˆå·²åˆ›å»ºï¼‰**:
| æ–‡æ¡£ | è¡Œæ•° | è¯­è¨€ | ç”¨é€” | æ ‡è¯† |
|------|------|------|------|------|
| doc/policies/AI_INDEX.md | 100 | è‹±æ–‡ | è¶…è½»é‡æ€»ç´¢å¼• | âœ… æœ‰"For AI Agents" |
| doc/process/dataflow-quickstart.md | 100 | è‹±æ–‡ | æ•°æ®æµå¿«é€Ÿå‚è€ƒ | âœ… æœ‰"For AI Agents" |
| doc/process/guardrail-quickstart.md | 120 | è‹±æ–‡ | é˜²æŠ¤æœºåˆ¶å¿«é€Ÿå‚è€ƒ | âœ… æœ‰"For AI Agents" |
| doc/process/workdocs-quickstart.md | 100 | è‹±æ–‡ | ä»»åŠ¡ç®¡ç†å¿«é€Ÿå‚è€ƒ | âœ… æœ‰"For AI Agents" |
| config/AI_GUIDE.md | 80 | è‹±æ–‡ | é…ç½®ç®¡ç†å¿«é€Ÿå‚è€ƒ | âœ… æœ‰"For AI Agents" |
| doc/process/AI_CODING_GUIDE.md | 150 | è‹±æ–‡ | AIç¼–ç è§„èŒƒ | âœ… æ–‡ä»¶åæ ‡è¯† |
| ai/workflow-patterns/README.md | 150 | è‹±æ–‡ | å·¥ä½œæµæ¨¡å¼ç›®å½• | âš ï¸ æ— æ˜ç¡®æ ‡è¯† |
| doc/templates/dataflow-summary.md | 86 | è‹±æ–‡ | æ•°æ®æµæ¨¡æ¿ | âš ï¸ æ— æ˜ç¡®æ ‡è¯† |

**äººç±»æ–‡æ¡£ï¼ˆå®Œæ•´ç‰ˆï¼‰**:
| æ–‡æ¡£ | è¡Œæ•° | è¯­è¨€ | ç”¨é€” |
|------|------|------|------|
| doc/process/DATAFLOW_ANALYSIS_GUIDE.md | 519 | ä¸­æ–‡ | æ•°æ®æµå®Œæ•´æŒ‡å— |
| doc/process/GUARDRAIL_GUIDE.md | 782 | ä¸­æ–‡ | Guardrailå®Œæ•´æŒ‡å— |
| doc/process/WORKDOCS_GUIDE.md | 653 | ä¸­æ–‡ | Workdocså®Œæ•´æŒ‡å— |
| doc/process/CONFIG_GUIDE.md | - | ä¸­æ–‡ | é…ç½®ç®¡ç†å®Œæ•´æŒ‡å— |
| doc/process/CONVENTIONS.md | 611 | ä¸­æ–‡ | å¼€å‘è§„èŒƒå®Œæ•´ç‰ˆ |
| ai/workflow-patterns/PATTERNS_GUIDE.md | 400 | ä¸­æ–‡ | å·¥ä½œæµæ¨¡å¼äººç±»æŒ‡å— |

### 1.2 é—®é¢˜å‘ç°

**ç¼ºå¤±èŒè´£æ ‡è¯†**:
- âš ï¸ ai/workflow-patterns/README.md: æ— "For AI Agents"æ ‡è¯†
- âš ï¸ doc/templates/dataflow-summary.md: æ— "For AI Agents"æ ‡è¯†
- âš ï¸ å…¶ä»–AIæ–‡æ¡£: éƒ¨åˆ†ç¼ºå°‘æ˜ç¡®æ ‡è¯†

**ç¼ºå°‘èŒè´£è¯´æ˜æ–‡æ¡£**:
- âŒ æ— ç»Ÿä¸€çš„æ–‡æ¡£èŒè´£åˆ†å·¥è¯´æ˜ï¼ˆå“ªäº›ç»™AIï¼Œå“ªäº›ç»™äººç±»ï¼‰
- âŒ AIåœ¨é€‰æ‹©æ–‡æ¡£æ—¶å¯èƒ½ä¸æ¸…æ¥šåº”è¯¥è¯»å“ªä¸ªç‰ˆæœ¬

**å»ºè®®**: åˆ›å»º `doc/policies/DOC_ROLES.md` ç»Ÿä¸€è¯´æ˜

---

## 2. agent.mdå¼•å¯¼å®Œæ•´æ€§æ£€éªŒ

### 2.1 å½“å‰agent.mdçš„å¼•å¯¼

**å·²æœ‰å¼•å¯¼**:
```markdown
## 3. Documentation Standards

### Language Rules
**Language Consistency**: Single language per document
**AI Documents**: English preferred for better AI parsing
**Human Documents**: Chinese or English based on team preference
**Code Comments**: Follow team language standards
```

**é—®é¢˜**:
- âœ… æœ‰è¯­è¨€ä¸€è‡´æ€§è¦æ±‚
- âœ… è¯´æ˜AIæ–‡æ¡£ç”¨è‹±æ–‡
- âš ï¸ ä½†æ²¡æœ‰è¯´æ˜"å“ªäº›æ˜¯AIæ–‡æ¡£"
- âš ï¸ æ²¡æœ‰è¯´æ˜"AIåº”è¯¥ä¼˜å…ˆè¯»quickstartè¿˜æ˜¯å®Œæ•´ç‰ˆ"

### 2.2 ç¼ºå¤±çš„å¼•å¯¼

**åº”è¯¥æ·»åŠ çš„å¼•å¯¼**:

1. **æ–‡æ¡£é€‰æ‹©å¼•å¯¼** (Â§ 1.1)
```markdown
## 1.1 Document Selection Guide

When loading on-demand documents:

1. **AI Documents (Quickstart)**: Load first for quick tasks
   - Identified by: "For AI Agents" in header
   - Format: English, ~100 lines, command-focused
   - Location: *-quickstart.md, AI_*.md
   - Examples: dataflow-quickstart.md, AI_CODING_GUIDE.md

2. **Human Documents (Complete)**: Load for deep understanding
   - Format: Chinese/English, 300-800 lines, detailed examples
   - Location: Full guides (*_GUIDE.md)
   - Examples: DATAFLOW_ANALYSIS_GUIDE.md, CONVENTIONS.md

3. **Loading Priority**:
   - For operations: Load AI quickstart only
   - For learning: Load human complete guide
   - When unsure: Check priority field in context_routes
```

2. **AIæ–‡ä»¶ç¼–å†™è§„èŒƒ** (Â§ 3.1)
```markdown
## 3.1 AI Document Writing Standards

When creating AI-facing documents:

1. **Language**: English only (better parsing)
2. **Header**: Must include "> **For AI Agents** - Purpose"
3. **Length**: â‰¤150 lines (keep focused)
4. **Format**: Commands first, concepts second
5. **Examples**: Runnable code snippets
6. **Cross-Reference**: Link to human doc for details

When creating human-facing documents:
1. **Language**: Chinese or English (team choice)
2. **Length**: No limit (be comprehensive)
3. **Format**: Concepts first, examples second
4. **Details**: Full explanations, edge cases, troubleshooting
```

3. **Context Loading Rules** (Â§ 0.1)
```markdown
### S0.1 - Context Loading Rules

**Critical**: DO NOT auto-load referenced documents

1. **always_read**: Load ONLY AI_INDEX.md
   - DO NOT follow "See also" references
   - DO NOT auto-load goals.md, safety.md
   - Those are on-demand documents

2. **on_demand**: Load based on task type
   - Check context_routes for topic
   - Load based on priority field
   - Prefer *-quickstart.md over *_GUIDE.md

3. **Depth Limit**: Maximum 1 level
   - Load explicitly listed documents only
   - Do not recursively follow references
```

---

## 3. æ¨¡å—åˆå§‹åŒ–æµç¨‹æ£€éªŒ

### 3.1 å½“å‰åˆå§‹åŒ–æµç¨‹

**å‘½ä»¤**: `make ai_begin MODULE=<name>`

**ç”Ÿæˆæ–‡ä»¶** (æ£€æŸ¥ scripts/ai_begin.sh):
- modules/<name>/README.md
- modules/<name>/plan.md
- modules/<name>/doc/ (6ä¸ªæ–‡æ¡£)
- tests/<name>/

**é—®é¢˜**: æ˜¯å¦ç”Ÿæˆ `modules/<name>/agent.md`ï¼Ÿ

### 3.2 æ£€æŸ¥ai_begin.sh

éœ€è¦éªŒè¯ï¼š
- [ ] æ˜¯å¦ç”Ÿæˆagent.md
- [ ] ç”Ÿæˆçš„agent.mdæ˜¯å¦ç¬¦åˆæ ¹agent.mdè¦æ±‚
- [ ] æ˜¯å¦åŒ…å«å¿…éœ€å­—æ®µï¼ˆmodule_type, io, etc.ï¼‰
- [ ] æ˜¯å¦æœ‰è‹±æ–‡å¼•å¯¼

### 3.3 æ£€æŸ¥MODULE_INIT_GUIDE.md

éœ€è¦éªŒè¯ï¼š
- [ ] æ˜¯å¦è¯´æ˜agent.mdæ˜¯å¿…éœ€çš„
- [ ] æ˜¯å¦æä¾›agent.mdæ¨¡æ¿
- [ ] æ˜¯å¦è¯´æ˜å¿…éœ€å­—æ®µ
- [ ] æ˜¯å¦è¯´æ˜AIæ–‡æ¡£ç”¨è‹±æ–‡

---

## æ£€éªŒç»“è®º

### å‘ç°çš„é—®é¢˜

**P0 - é«˜ä¼˜å…ˆçº§**:
1. âŒ agent.mdç¼ºå°‘"æ–‡æ¡£é€‰æ‹©å¼•å¯¼"ï¼ˆÂ§ 1.1ï¼‰
2. âŒ agent.mdç¼ºå°‘"ä¸Šä¸‹æ–‡åŠ è½½è§„åˆ™"ï¼ˆÂ§ 0.1ï¼Œé˜²æ­¢è‡ªåŠ¨æ·±å…¥ï¼‰
3. âŒ ç¼ºå°‘ç»Ÿä¸€çš„æ–‡æ¡£èŒè´£åˆ†å·¥è¯´æ˜æ–‡æ¡£

**P1 - ä¸­ä¼˜å…ˆçº§**:
4. âš ï¸ agent.mdçš„Â§ 3åªæœ‰ç®€å•çš„è¯­è¨€è§„åˆ™ï¼Œç¼ºå°‘AIæ–‡æ¡£ç¼–å†™è§„èŒƒ
5. âš ï¸ éƒ¨åˆ†AIæ–‡æ¡£ç¼ºå°‘"For AI Agents"æ ‡è¯†
6. âš ï¸ éœ€è¦æ£€éªŒai_begin.shæ˜¯å¦æ­£ç¡®ç”Ÿæˆagent.md

**P2 - ä½ä¼˜å…ˆçº§**:
7. ğŸ’¡ å»ºè®®åˆ›å»ºDOC_ROLES.mdç»Ÿä¸€è¯´æ˜æ–‡æ¡£èŒè´£

---

## æ¨èä¿®å¤æ–¹æ¡ˆ

### Phase 14.0è¡¥å……ï¼ˆç«‹å³æ‰§è¡Œï¼‰

1. **æ‰©å±•AI_INDEX.md** (30â†’100è¡Œ)
   - âœ… å·²å®Œæˆï¼šè‡ªåŒ…å«æ ¸å¿ƒGoalså’ŒSafety
   - åŒ…å«æ˜ç¡®çš„"DO NOT auto-load"è­¦å‘Š

2. **å¢å¼ºagent.md Â§ 1.1** (æ–°å¢)
   - æ·»åŠ "Document Selection Guide"
   - è¯´æ˜AIæ–‡æ¡£ vs äººç±»æ–‡æ¡£
   - åŠ è½½ä¼˜å…ˆçº§è§„åˆ™

3. **å¢å¼ºagent.md Â§ 0** (S0å¼€å¤´)
   - æ·»åŠ "Context Loading Rules"
   - æ˜ç¡®"DO NOT follow references"
   - æ·±åº¦é™åˆ¶ï¼ˆMaximum 1 levelï¼‰

4. **å¢å¼ºagent.md Â§ 3** (æ–‡æ¡£è§„èŒƒ)
   - æ·»åŠ "AI Document Writing Standards"
   - å¿…é¡»è‹±æ–‡ã€å¿…é¡»æ ‡è¯†ã€é•¿åº¦é™åˆ¶

5. **åˆ›å»ºDOC_ROLES.md** (å¯é€‰)
   - ç»Ÿä¸€çš„æ–‡æ¡£èŒè´£åˆ†å·¥è¯´æ˜
   - AIæ–‡æ¡£æ¸…å• vs äººç±»æ–‡æ¡£æ¸…å•

6. **æ£€éªŒai_begin.sh** (å¿…é¡»)
   - ç¡®ä¿ç”Ÿæˆagent.md
   - ç¡®ä¿åŒ…å«å¿…éœ€å­—æ®µ
   - ç¡®ä¿ç¬¦åˆè§„èŒƒ

---

**é¢„ä¼°æ—¶é—´**: 1-1.5å°æ—¶  
**æ”¶ç›Š**: ç¡®ä¿AIå‹å¥½åº¦ä¼˜åŒ–çœŸå®æœ‰æ•ˆï¼Œé˜²æ­¢Tokenæˆæœ¬éšæ€§å¢åŠ 

