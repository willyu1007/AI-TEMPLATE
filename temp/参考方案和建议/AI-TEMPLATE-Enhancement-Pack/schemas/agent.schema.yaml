type: object
required: [spec_version, agent_id, role]
properties:
  spec_version: { type: string }
  agent_id: { type: string }
  role: { type: string }
  level: { type: integer, minimum: 1, maximum: 4 }
  module_type: { type: string }
  ownership:
    type: object
    properties:
      code_paths:
        type: object
        properties:
          include: { type: array, items: { type: string } }
          exclude: { type: array, items: { type: string } }
  io:
    type: object
    properties:
      inputs: { type: array, items: { type: object } }
      outputs: { type: array, items: { type: object } }
  contracts:
    type: object
    properties:
      apis: { type: array, items: { type: string } }
  dependencies:
    type: object
    properties:
      upstream: { type: array, items: { type: string } }
      downstream: { type: array, items: { type: string } }
  constraints: { type: array, items: { type: string } }
  tools_allowed:
    type: object
    properties:
      calls: { type: array, items: { type: string } }
      models: { type: array, items: { type: string } }
  quality_gates:
    type: object
    properties:
      required_tests: { type: array, items: { type: string } }
      coverage_min: { type: number, minimum: 0, maximum: 1 }
  orchestration_hints:
    type: object
    properties:
      triggers: { type: array, items: { type: string } }
      routing_tags: { type: array, items: { type: string } }
      priority: { type: integer }
  context_routes:
    type: object
    properties:
      always_read: { type: array, items: { type: string } }
      on_demand: { type: array, items: { type: object } }
      by_scope: { type: array, items: { type: object } }
additionalProperties: true
