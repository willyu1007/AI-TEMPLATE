# 
# Phase 13: 

version: "1.0"
description: ""

# 
rules:
  - id: "circular-dependency"
    name: ""
    severity: critical
    category: "architecture"
    pattern: ""
    description: ""
    detector: "DataflowAnalyzer.detect_circular_dependencies()"
    impact:
      performance: ""
      maintainability: ""
      scalability: ""
    suggestion:
      - ""
      - ""
      - ""
    fix_priority: 1
    estimated_fix_time: "2-4"
  
  - id: "deep-call-chain"
    name: ""
    severity: high
    category: "performance"
    pattern: ">5"
    description: ""
    detector: "DataflowAnalyzer.analyze_call_chain_depth(max_depth=5)"
    threshold:
      max_depth: 5
      warning_depth: 4
    impact:
      performance: ""
      debugging: ""
      error_handling: ""
    suggestion:
      - "facade"
      - ""
      - ""
    fix_priority: 2
    estimated_fix_time: "1-3"
  
  - id: "n-plus-one-query"
    name: "N+1"
    severity: high
    category: "database"
    pattern: ""
    description: ""
    detector: "DataflowAnalyzer.detect_n_plus_one_queries()"
    impact:
      performance: ""
      database: ""
      scalability: ""
    suggestion:
      - "JOIN"
      - "ORMeager loading"
      - "DataLoader"
    examples:
      bad: |
        for user in users:
            orders = db.query(Order).filter(user_id=user.id).all()
      good: |
        user_ids = [user.id for user in users]
        orders = db.query(Order).filter(Order.user_id.in_(user_ids)).all()
    fix_priority: 2
    estimated_fix_time: "30-1"
  
  - id: "missing-index"
    name: "JOIN"
    severity: medium
    category: "database"
    pattern: "JOIN"
    description: "JOINJOIN"
    detector: "DataflowAnalyzer.detect_missing_indexes()"
    threshold:
      table_size: "large"  # large: >100, very_large: >1000
    impact:
      performance: ""
      resource: "CPU"
      scalability: ""
    suggestion:
      - "JOIN: CREATE INDEX idx_name ON table(column)"
      - "JOIN"
      - ": EXPLAIN ANALYZE"
    fix_priority: 3
    estimated_fix_time: "15-30"
  
  - id: "serial-calls"
    name: ""
    severity: medium
    category: "performance"
    pattern: ""
    description: ""
    detector: "BottleneckDetector.detect_serial_vs_parallel()"
    impact:
      performance: ""
      throughput: ""
      user_experience: ""
    suggestion:
      - "asyncioconcurrent.futures"
      - ""
      - "Promise.all()Promise.race()"
    examples:
      bad: |
        result1 = fetch_data_from_api1()  # 1
        result2 = fetch_data_from_api2()  # 1
        # : 2
      good: |
        results = await asyncio.gather(
            fetch_data_from_api1(),
            fetch_data_from_api2()
        )
        # : 1
    fix_priority: 3
    estimated_fix_time: "30-2"
  
  - id: "no-cache"
    name: ""
    severity: low
    category: "performance"
    pattern: ""
    description: ""
    detector: "BottleneckDetector.recommend_caching()"
    threshold:
      call_count: 3  # 3
    impact:
      performance: "CPU"
      response_time: ""
      cost: ""
    suggestion:
      - "RedisMemcached"
      - "Python@lru_cache"
      - "functools.cache"
    cache_strategies:
      - name: "LRU"
        : ""
      - name: "TTL"
        : ""
      - name: ""
        : ""
    fix_priority: 4
    estimated_fix_time: "30-1"
  
  - id: "redundant-computation"
    name: ""
    severity: low
    category: "performance"
    pattern: ""
    description: ""
    detector: "BottleneckDetector.detect_redundant_computations()"
    impact:
      maintainability: ""
      performance: ""
      consistency: ""
    suggestion:
      - ""
      - "DRYDon't Repeat Yourself"
      - ""
    fix_priority: 5
    estimated_fix_time: "15-30"

# 
severity_levels:
  critical:
    priority: 1
    color: "#d32f2f"
    icon: "ðŸ”´"
    action: ""
    description: ""
  
  high:
    priority: 2
    color: "#f57c00"
    icon: "ðŸŸ "
    action: ""
    description: ""
  
  medium:
    priority: 3
    color: "#fbc02d"
    icon: "ðŸŸ¡"
    action: ""
    description: ""
  
  low:
    priority: 4
    color: "#388e3c"
    icon: "ðŸŸ¢"
    action: ""
    description: ""

# 
categories:
  architecture:
    name: ""
    description: ""
  
  performance:
    name: ""
    description: ""
  
  database:
    name: ""
    description: ""
  
  scalability:
    name: ""
    description: ""

# 
priority_matrix:
  # severity x impact -> priority
  critical_high: 1    # 
  critical_medium: 1  # 
  critical_low: 2     # 
  high_high: 2        # 
  high_medium: 3      # 
  high_low: 3         # 
  medium_high: 3      # 
  medium_medium: 4    # 
  medium_low: 4       # 
  low_high: 4         # 
  low_medium: 5       # 
  low_low: 5          # 

# 
metadata:
  created_at: "2025-11-09"
  updated_at: "2025-11-09"
  version: "1.0"
  author: "AI-TEMPLATE Phase 13"

